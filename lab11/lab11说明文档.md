# Lab11 说明文档
### Cookie

## 1.功能

HTTP协议是一种无状态协议，在数据交换完毕后，服务端和客户端的链接就会关闭，每次交换数据都需要建立新的链接。Cookie能将数据保存到浏览器中，记录服务器和客户端之间的状态，例如标识和认证一个用户。

## 2.优点

1）数据持久性<br/>
2）不需要任何服务器资源，因为cookie是存储在客户端并发送给服务器读取
3）可配置到期规则，控制cookie的生命周期，使之不会永远有效，偷盗者可能拿到的是一个过期的cookie<br/>
4）简单性，基于文件的轻量结构<br/>
5）极高的扩展性和可用性<br/>

## 3.缺点

1）cookie的数量和长度都有限制<br/>
2）潜在的安全风险：cookie可能被截取篡改，如果cookie被拦截，就可能会获取到所有的Session信息<br/>
3）用户配置为禁用，有的用户禁用了浏览器或者客户端设备接受cookie的能力，因此限制了这一功能<br/>
4）有些状态不可能保存在客户端，例如，为了防止重复提交表达，需要在服务器端保存一个计时器，如果把这个计时器保存在客户端，它将不起作用<br/>


### Exercise2: Session

## 1.功能

客户端通过用户名和密码请求服务端，服务端就会生成身份认证相关的session数据，比如用户、用户名等信息来生成一份session数据，会保存在内存里或内存数据库里，并将sessionId通过Set-cookie响应头返回给客户端， 客户端则会把sessionId存在cookie中。此后，客户端发起的所有请求都会带上该sessionId，服务单会通过该sessionId寻找session数据并解析，由此得知当前登录状态有没有登陆，以及有什么权限。

## 2.优点

1）session保存在服务器端相对安全<br/>
2）结合cookie使用，较为灵活，兼容性好<br/>
3）相比JWT，最大优势是可以主动清除session<br/>

## 3.缺点

1）cookie+session在跨域场景很麻烦<br/>
2）如果是分布式部署，需要做多机共享session机制<br/>
3）基于cookie的机制存在潜在的安全风险<br/>
4）查询session信息可能会有数据库查询操作，带来性能问题<br/>